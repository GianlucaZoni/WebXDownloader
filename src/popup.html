<html>
    <head>
        <meta charset="utf-8"/>
        <style>
            body {
                width: 20em;
                max-height: 25em;
                font-size: 100%;
                margin: 1em;
                background-color: #fcfcfc;
                font-family: sans-serif;
            }

            #success label {
                font-size: 90%;
            }

            #content {
                width: 100%;
                height: 7em;
                resize: none;
            }

            #copy {
                margin-top: 1em;
            }

            #download {
                margin-top: 1.5em;
            }

            .subtitle {
                margin-bottom: .8em;
            }

            .title {
                text-align: center;
                font-weight: bold;
            }

            .fail {
                background-color: rgb(248, 201, 201);
            }

            #chat {
                margin-top: 0.5em;
            }

            li {
                margin-bottom: .5em;
            }
        </style>
    </head>
    <body>
        <div id="errpage" style="display: none;">
            <div class="title">Whoops</div>
            <br>
            This extension only works on the playback page of a Webex meeting recording.
        </div>
        <div id="fail" style="display: none;">
            <div class="title">That didn't work</div>
            <br>
            Some error occurred while processing the page. Here's what you can try:
            <ul>
                <li>Refresh and try again; sometimes it just works</li>
                <li>If you are using incognito mode, try with a normal browser window instead</li>
            </ul>
        </div>
        <div id="loading">
            <div class="title">Loading</div>
            <br>
            Please wait while I fetch the video stream...
        </div>
        <div id="success" style="display: none;">
            <div class="title">Success!</div>
            <br>
            <div class="subtitle">HLS stream URL:</div>
            <textarea id="content" disabled></textarea>
            <input id="copy" type="button" value="Copy to clipboard" />
            <br><br>
            <div id="chat" style="display: none;">
                <div class="subtitle">Chat transcript:</div>
                <input checked name="chat" type="radio" id="chat-opt"></input>
                <label for="chat-opt">Plain text</label>
                <br>
                <input name="chat" type="radio" id="json-opt"></input>
                <label for="json-opt">JSON format</label>
                <br>
                <input id="download" type="button" value="Download" />
            </div>
        </div>
    </body>
</html>
<script src="popup.js"></script>